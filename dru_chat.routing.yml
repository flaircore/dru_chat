#https://blog.samuel.ninja/the-tutorial-for-php-websockets-that-i-wish-had-existed/#makingthewebsocketpersistentonyourserver
dru_chat.server_controller_hello:
  path: '/dru_chat/server_init'
  defaults:
    _controller: '\Drupal\dru_chat\Controller\ServerController::serverInit'
    _title: 'Server Init'
  requirements:
    _permission: 'access content'


dru_chat.test_form:
  path: '/dru_chat/test_form'
  defaults:
    _form: '\Drupal\dru_chat\Form\ChatForm'
    _title: 'Chat form'
  requirements:
    _permission: 'access content'

dru_chat.pusher_settings:
  path: 'admin/dru-chat/pusher-configs'
  defaults:
    _form: '\Drupal\dru_chat\Form\PusherConfigForm'
    _title: 'Pusher Config form'
  requirements:
    _permission: 'access content'

dru_chat.messages:
  path: '/dru-chat/messages/{user}'
  defaults:
    _controller: '\Drupal\dru_chat\Controller\MessagesController::getMessages'
    _title: 'user message'
  requirements:
    #_csrf_token: 'TRUE'
    _permission: 'access content'
  options:
    parameters:
      user:
        type: entity:user


dru_chat.new_messages:
  path: '/dru-chat/new-message'
  defaults:
    _controller: '\Drupal\dru_chat\Controller\MessagesController::newMessage'
    _title: 'New message'
  requirements:
    #_csrf_token: 'TRUE'
    _permission: 'access content'